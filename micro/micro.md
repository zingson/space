# 微服务

服务介绍。

源码目录：mic   
文档目录：doc   
运营界面：toa   
商家界面：tob  
用户界面：toc  

## 服务编号分配


## 配置中心

表名：ms_config   
字段：服务名、配置JSON内容、备注、更新时间、创建时间

客户端监听：配置更新
使用ws通信

所有服务，通过启动命令参数指定配置中心地址，读取配置。

## 注册中心

表名：ms_discover   
字段：服务名、IP、port、过期时间、更新时间、
      name   ip  port  expires  updatedAt
      
客户端心跳：定时心跳更新过期时间，超时由TTL索引剔除服务      
客户端监听：更新事件、删除事件 
     
使用ws通信
     

## ws消息服务

表名： ms_ws   
字段： 客户端ID、消息ID、消息内容、过期时间、创建时间、状态（0=待处理 1=已处理 9=删除）

ws集群方案： 客户端连接，使用客户端ID作为KEY，消息作为value，通过mongodb watch功能。

## ms-smm

运营系统用户管理、角色配置、功能菜单、权限管理

  
## ms-cms

包含 栏目、文章 管理




